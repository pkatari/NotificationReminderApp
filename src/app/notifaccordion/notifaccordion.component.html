<div class="accordion-list">
    <div class="acc-heading">Notification</div>
    <section *ngIf="accordionForm">
        <form [formGroup]="accordionForm" (ngSubmit)="onSubmit()" novalidate>  
            <div formArrayName="notificationData">
                <ngb-accordion [closeOthers]="true" activeIds="acc-3" *ngFor="let d of accordionForm.controls.notificationData.controls; let i=index" formGroupName="{{i}}">                    
                    <ngb-panel id="acc-{{i}}">
                        <ng-template ngbPanelTitle>
                                <input  disabled class="title-accordion" formControlName="titleAccordion" />
                                        <button type="button" class="btn btn-link" (click)="saveAccordionData($event,i)">Save</button>
                                        <button type="button" class="btn btn-link" (click)="dontSaveAccordionData($event)">Close</button>
                        </ng-template>
                        <ng-template ngbPanelContent>                                 
                            <div class="form-settings ">
                                <div class="pull-left">                                      
                                    <div> 
                                        Repeat On
                                        <ul>
                                            <li FormArrayName="weekday" class="days-style" *ngFor="let week1 of weekdays;let i='index'"> 
                                                <a [ngClass]="applyActiveClass(week1) ? 'active-apply' : ''" (click)="listClick($event, week1,i)">{{week1}}</a>
                                            </li>
                                        </ul>     
                                    </div>
                                    <label>During</label>
                                    <select formControlName="duringTime" class="during-time"> 
                                        <option *ngFor="let duringTime of fromTime" [value]="duringTime">{{duringTime}}</option>
                                    </select>     
                                    <label>to</label>    
                                    <select formControlName="toSelectTime"  class="to-time">
                                        <option *ngFor="let toSelectTime of toTime" [value]="toSelectTime">{{toSelectTime}}</option>
                                    </select> 
                                    <div class="reset-button">
                                        <button type="button" class="btn btn-link" (click)="restToGlobalSettings(i)">Reset to Global Settings</button>
                                    </div>
                                </div>
                         
                                <div class="pull-right">
                                    <div> 
                                        Elapse Time
                                        <ul>
                                            <li class="days-style" *ngFor="let round of elapseTimeRounds">
                                                <a>{{round}}</a>
                                            </li>
                                        </ul> 
                                    </div>
                                    <div class="day-frequency">  
                                        <div FormArrayName="daysFrequency" *ngFor="let freq of d.daysFrequency">
                                            <input  class="input-field" type="text" value ="{{freq}}" name="username"title="Enter username"/>                                        
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </ng-template>
                    </ngb-panel> 
                </ngb-accordion>
            </div>
        </form>
    </section>
</div>
